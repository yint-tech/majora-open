---
title: Majora3 代理 IP 池搭建系统导言
description: 快速理解 Majora3 的核心概念、应用场景与系统特性。
updated: 2025-05-11
---

## 基础概念

Majora 是一个用于快速搭建代理 IP 池集群的中心化系统。只需部署一台服务器，并在各类网络设备上安装终端（endpoint），即可自动组织代理 IP 资源池。

- **供应方**：整合 VPS、拨号设备、ADSL 等资源，一站式形成可售卖的代理 IP 池。
- **爬虫团队**：自建、可控、可追踪的 IP 池，满足电商、交易等对稳定出口 IP 的刚性需求。
- **移动 4G IP 池**：依托稳定的 Android 客户端，将手机或开发板转化为 4G 流量代理节点。
- **二级转发**：通过 exporter 模块，把已有 IP 池（即使在内网）对接进 Majora 实现包装与转售。
- **家庭/海外 Home IP**：提供多种网络设备终端，便捷接入家庭宽带资源。

下文从 IP 池、终端、重播、权限、性能五个角度提炼核心概念。

## IP 池模型

Majora 内置五种 IP 池模型，每个模型都由多个端口组成，每个端口都是一个完整的代理服务。

- **Random**：每次请求随机选择可用资源，供需两端无绑定，适合无状态爬虫。
- **Static**：每个端口绑定固定节点，出口长期稳定，适合跨境电商等长效代理场景。
- **Consistent**：一致性哈希映射，节点下线时自动补位，恢复后原节点回归，兼顾稳定与可用性。
- **City**：按城市划分端口，同一用户访问同一端口可保持稳定出口，多个用户自动负载均衡；需通过接口同步端口与城市的映射关系。
- **指令 IP 池**：借助用户名参数扩展，实现按国家/城市/经纬度等动态路由，支持灵活的业务策略。

## 终端节点

终端（endpoint 或 client）是实际提供代理出口的设备，数量越多，IP 池越大。终端只需能够连通中心服务器，网络位置不受限：

- 一参参数即可指向中心服务器，无需复杂运维。
- 支持 Linux、Windows、macOS、OpenWrt 等多种系统环境。
- 提供 Android App 集成、二级代理接入（Java Agent）等多种形态。
- 自带内网穿透，可在无公网 IP 环境中提供代理。

## 重播能力

终端可通过重新拨号或重新入网获取新 IP，从而为 IP 池提供海量出口：

- ADSL 拨号 PC、支持重播的 VPS、切换飞行模式的手机等均可获得新 IP。
- Majora 在终端层收集可重播能力，并在后台提供 **重播计划**，支持定时/周期重播、目标范围控制、执行记录与 IP 变化追踪。

## 权限与安全

Majora3 采用更细粒度的权限模型：

- **双账号鉴权**：后台账号用于管理，代理账号用于程序调用，避免越权。
- **资源可见性**：普通用户仅能访问被授权的 IP 池、日志与监控；管理员可查看全局设备与配置。
- **ACL 控制**：按用户或全局限制访问站点，满足合规要求。

## 性能与可观测性

- 事件驱动架构与任务调度，单节点在 200M 带宽、数十万终端下依旧稳定。
- 代理转发与设备注册全流程无锁设计，避免资源竞争。
- 堆外内存管理与分段转发确保低 GC、低延迟。
- 完整监控指标：流量、访问日志、节点延迟、重播事件、关键行为 Trace 等均即时可见。
- 配置变更（账户、白名单、IP 池、ACL 等）实时生效，节点上下线毫秒级感知。

深入理解这些概念，将帮助你更高效地部署、运维并扩展 Majora 代理 IP 池集群。
